<!DOCTYPE html>
<!-- <html lang="en,zh-CN,default"> -->
<html lang="en" class="default-theme">


<head>
  <meta name="google-site-verification" content="zgIFkCAsVo7by5gMyjwRsoyBvSYWy-mV8JxZZVPHVdY" />
  <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Levy Liu">







<title>Reactå°è®° | Levy&#39;s Blog</title>



    <link rel="icon" href="/favicon.ico">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    
    <link rel="stylesheet" href="/css/color_mode/classic.css">
    
    <link rel="stylesheet" href="/css/color_mode/dark.css">
    
    <link rel="stylesheet" href="/lib/viewer/viewer.min.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/menu.js"></script>
    
    <script src="/js/format.js"></script>
    
    <script src="/js/search.js"></script>
    
    <script src="/lib/viewer/viewer.min.js"></script>
    










<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <!-- <div class="image-preview-mask">
    <div class="image-preview-container">
      <div id="img-preview"></div>
    </div>
  </div> -->
  <div class="mask-border">
  </div>

  <div class="wrapper">

    <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
              Levy&#39;s Blog.ğŸ¦Š
                
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        
          <ul class="menu-list">
            
              <!-- 
              url_foræ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥æŠŠä¸€ä¸ªè·¯å¾„è½¬æ¢ä¸ºå®Œæ•´çš„URL
              url_for(page.path) å½“å‰é¡µé¢çš„URL
            -->
              <!-- é«˜äº®æ˜¾ç¤º -->
              
                  <li class="menu-item">
                    <a href="/">
                      Home
                    </a>
                  </li>
                  
                    
              <!-- 
              url_foræ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥æŠŠä¸€ä¸ªè·¯å¾„è½¬æ¢ä¸ºå®Œæ•´çš„URL
              url_for(page.path) å½“å‰é¡µé¢çš„URL
            -->
              <!-- é«˜äº®æ˜¾ç¤º -->
              
                  <li class="menu-item">
                    <a href="/archives/">
                      Archive
                    </a>
                  </li>
                  
                    
              <!-- 
              url_foræ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥æŠŠä¸€ä¸ªè·¯å¾„è½¬æ¢ä¸ºå®Œæ•´çš„URL
              url_for(page.path) å½“å‰é¡µé¢çš„URL
            -->
              <!-- é«˜äº®æ˜¾ç¤º -->
              
                  <li class="menu-item">
                    <a href="/categories/gallery/">
                      Gallery
                    </a>
                  </li>
                  
                    
                      <!-- æœç´¢åŠŸèƒ½ -->
                      
                        <li class="menu-item search-btn">
                          <a href="#">
                            Search
                          </a>
                        </li>
                        


                          <!-- Some tags or posts doesn't have alternative language version, so we don't render language switcher for them -->
                          
          </ul>
          <!-- <button id="theme-toggle">åˆ‡æ¢ä¸»é¢˜</button> -->
      </nav>
    </div>
  </div>
</div>


<script>
  /* const button = document.querySelector('button')
  button.addEventListener('clcik', ()=>{
    document.body.classList.add('')
  }) */
  document.getElementById('theme-toggle').addEventListener('click', function () {
    var body = document.documentElement;
    if (body.classList.contains('dark-theme')) {
      body.className = 'classic-theme';
    } else if (body.classList.contains('classic-theme')) {
      body.className = 'default-theme';
    } else {
      body.className = 'dark-theme';
    }
  });
</script>

      <div class="main">
        <div class="flex-container">
          <article id="post">
  
    <div class="post-head">
    
    <div class="post-info">
        <div class="tag-list">
            

                
                    <span class="post-tag">
                        <a href="/tags/react/">
                            react
                        </a>
                    </span>
                    
                        
        </div>
        <div class="post-title">

            
                Reactå°è®°
                    
        </div>
        <span class="post-date">
            Jul 25, 2023
        </span>
        <span class="post-word-count">
            333 words / About 7 minutes

            <span class="post-word-count-tooltip">Only English content is counted</sapn>
        </span>

        
    </div>
    <div class="post-img">
        
                <div class="h-line-primary"></div>
                
    </div>
</div>
    <div class="post-content">
    <!-- <-page.content -->
    <div class="toc"></div>
<div class="post-body">
    <h2 id="reactåº“å’Œæ¡†æ¶çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#reactåº“å’Œæ¡†æ¶çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"></a> Reactåº“å’Œæ¡†æ¶çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<ul>
<li>é¡µé¢ç»„ä»¶åŒ–</li>
<li>æ•°æ®é©±åŠ¨</li>
</ul>
<p>MVC Vå±‚</p>
<blockquote>
<p>reactåº“</p>
<p>â€‹	react.jsæ˜¯ä¸€ä¸ªå¼€æ”¾çš„jså·¥å…·åº“ï¼Œç”¨äºåŸºäºUIè‡ªæ£€æ„å»ºç”¨æˆ·ç•Œé¢</p>
</blockquote>
<blockquote>
<p>reactæ¡†æ¶</p>
<p>â€‹	é€šè¿‡è„šæ‰‹æ¶å·¥å…·æ­å»ºçš„ä¸€å¥—å®Œå–„çš„å‰ç«¯ç¯å¢ƒï¼ŒåŒ…æ‹¬ï¼šè·¯ç”±ã€çŠ¶æ€ç®¡ç†ã€æ•°æ®è·å–ã€ç¬¬ä¸‰æ–¹çš„UIç»„ä»¶åº“å’Œç¬¬ä¸‰æ–¹Hooksåº“(ahooks react-use)</p>
</blockquote>
<h2 id="ä¸¥æ ¼æ¨¡å¼"><a class="markdownIt-Anchor" href="#ä¸¥æ ¼æ¨¡å¼"></a> ä¸¥æ ¼æ¨¡å¼</h2>
<p>â€‹	æ£€æŸ¥ç»„ä»¶æ˜¯å¦ä¸º<strong>çº¯å‡½æ•°</strong></p>
<p>â€‹	åŠæ—©çš„å‘ç°useEffectä¸­çš„é”™è¯¯</p>
<p>â€‹	è­¦å‘Šè¿‡æ—¶çš„API</p>
<h2 id="eslint"><a class="markdownIt-Anchor" href="#eslint"></a> ESLint</h2>
<p>â€‹	ä»£ç è§„èŒƒæ’ä»¶</p>
<blockquote>
<p>npm run lint</p>
<p>vite-plugin-eslint ï¼ˆviteæ„å»ºä¸‹ï¼‰</p>
</blockquote>
<h2 id="prettier"><a class="markdownIt-Anchor" href="#prettier"></a> Prettier</h2>
<p>â€‹	ä»£ç æ ¼å¼åŒ–æ’ä»¶</p>
<h2 id="reactæ¨¡å—"><a class="markdownIt-Anchor" href="#reactæ¨¡å—"></a> reactæ¨¡å—</h2>
<p>â€‹	æ ¸å¿ƒåŠŸèƒ½</p>
<p>â€‹	ç»„ä»¶</p>
<h2 id="react-dom"><a class="markdownIt-Anchor" href="#react-dom"></a> react-dom</h2>
<p>â€‹	æ“ä½œæµè§ˆå™¨DOM</p>
<p>â€‹	<code>react-dom/client</code> å®¢æˆ·ç«¯æ¸²æŸ“ä½¿ç”¨</p>
<p>â€‹	<code>react-dom/server </code>æœåŠ¡ç«¯æ¸²æŸ“ä½¿ç”¨</p>
<blockquote>
<p>åˆ†ç¦»ä¸åŒä»£ç åº“ï¼Œå¯è·¨å¹³å°ä½¿ç”¨</p>
<p>æ¯”å¦‚ ç¼–å†™<code>react-native</code>åº”ç”¨ï¼Œå½“ç„¶ä¸ç”¨ä½¿ç”¨<code>react-dom</code>æ¨¡å—</p>
</blockquote>
<p>åˆ©ç”¨<strong>ç¼–è¯‘å™¨</strong>ç¼–è¯‘æˆä¸­é—´è¿™ç§<code>reactElement</code>å¯¹è±¡æ ¼å¼(è™šæ‹ŸDOM)ï¼Œå†åˆ©ç”¨<code>react-dom</code>åº“å®Œæˆ</p>
<p><img src="https://s2.loli.net/2023/07/25/cHAiE6MDN71R9pW.png" alt="image-20230719112407499.png" /></p>
<p><img src="https://s2.loli.net/2023/07/25/94UeQaLNsGli1JP.png" alt="image-20230719140934815.png" /></p>
<h2 id="fragment"><a class="markdownIt-Anchor" href="#fragment"></a> fragment</h2>
<p><code>&lt;&gt;&lt;/&gt;</code> ç®€å†™ï¼Œè¿™ç§æ–¹å¼ä¸èƒ½å†™key</p>
<h2 id="classnames-æ§åˆ¶æ ·å¼"><a class="markdownIt-Anchor" href="#classnames-æ§åˆ¶æ ·å¼"></a> classnames æ§åˆ¶æ ·å¼</h2>
<p><img src="https://s2.loli.net/2023/07/25/no2bQfZGqpJ3rz4.png" alt="image.png" /></p>
<h2 id="äº‹ä»¶"><a class="markdownIt-Anchor" href="#äº‹ä»¶"></a> äº‹ä»¶</h2>
<p>â€‹	åˆæˆäº‹ä»¶ï¼šå¤„ç†äº‹ä»¶æœ‰å·®å¼‚ï¼ˆonmouse<u>enter</u> å®é™…ä½¿ç”¨çš„æ˜¯<u>over</u>ï¼‰</p>
<p>â€‹	äº‹ä»¶å§”æ‰˜ï¼šå§”æ‰˜åˆ°å®¹å™¨â€™rootâ€™å…ƒç´ </p>
<p><img src="https://s2.loli.net/2023/07/25/4doOvBUxuV2z8fc.png" alt="image-20230719143026471.png" /></p>
<p>â€‹	ä¼ å‚å¤„ç†</p>
<p>â€‹		ç®­å¤´å‡½æ•°</p>
<p>â€‹		é«˜é˜¶å‡½æ•°</p>
<h2 id="æ¡ä»¶æ¸²æŸ“"><a class="markdownIt-Anchor" href="#æ¡ä»¶æ¸²æŸ“"></a> æ¡ä»¶æ¸²æŸ“</h2>
<p>â€‹	æ¡ä»¶åˆ†æ”¯if else switch case</p>
<p>â€‹	ä¸‰ç›® ? :</p>
<p>â€‹	é€»è¾‘è¿ç®—ç¬¦ || ?? &amp;&amp;</p>
<blockquote>
<p>ä¸ä¼šæ¸²æŸ“çš„å€¼ï¼šnullã€undefinedã€booleanã€â€˜â€™ ã€å¯¹è±¡ã€å‡½æ•°</p>
<p>åˆ©ç”¨JSON.stringify() æˆ–è€… {undefied +â€˜â€™}(æ‹¼æ¥ç©ºä¸²)</p>
</blockquote>
<p>â€‹</p>
<h2 id="æ•°ç»„æ¸²æŸ“"><a class="markdownIt-Anchor" href="#æ•°ç»„æ¸²æŸ“"></a> æ•°ç»„æ¸²æŸ“</h2>
<blockquote>
<p>â€‹	<font color=red>jsxé»˜è®¤å¯¹æ•°ç»„è¿›è¡Œjoin()æ“ä½œ</font></p>
</blockquote>
<p>â€‹	å¾ªç¯è¯­å¥</p>
<p>â€‹	<img src="https://s2.loli.net/2023/07/25/Gc83QLyR5SVbFKW.png" alt="image-20230719144614400.png" /></p>
<p>â€‹	æ•°ç»„æ–¹æ³•ï¼ˆmapï¼‰</p>
<blockquote>
<p>å¿…é¡»å†™key</p>
<p>å¸®åŠ©reactæ¨æ–­å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä»è€Œå¾—ä»¥æ­£ç¡®çš„æ›´æ–°DOMæ ‘</p>
<p>è·Ÿè¸ªåˆ—è¡¨æ¯ä¸€é¡¹çš„èº«ä»½ï¼Œ å”¯ä¸€æ ‡è¯†</p>
</blockquote>
<h2 id="ç»„ä»¶çš„uç‚¹æ ‡è®°uå†™æ³•"><a class="markdownIt-Anchor" href="#ç»„ä»¶çš„uç‚¹æ ‡è®°uå†™æ³•"></a> ç»„ä»¶çš„<u>ç‚¹æ ‡è®°</u>å†™æ³•</h2>
<h3 id="å¯¹è±¡å½¢å¼"><a class="markdownIt-Anchor" href="#å¯¹è±¡å½¢å¼"></a> å¯¹è±¡å½¢å¼</h3>
<p>â€‹		ç»„ä»¶å†™ä¸ºå¯¹è±¡çš„æ–¹æ³•</p>
<p>â€‹		å¯è§£æ„ä½¿ç”¨</p>
<p><img src="https://s2.loli.net/2023/07/25/ZSJRGjxKWVdFlE9.png" alt="image-20230719145530569.png" /></p>
<h3 id="å‡½æ•°å½¢å¼æ›´å¥½çš„è¿›è¡Œç»„ä»¶åˆ†ç±»"><a class="markdownIt-Anchor" href="#å‡½æ•°å½¢å¼æ›´å¥½çš„è¿›è¡Œç»„ä»¶åˆ†ç±»"></a> å‡½æ•°å½¢å¼ï¼ˆæ›´å¥½çš„è¿›è¡Œç»„ä»¶åˆ†ç±»</h3>
<p>â€‹	å°†ç»„ä»¶ç›´æ¥æŒ‚è½½åœ¨ä¸Šçº§ç»„ä»¶ä¸Š</p>
<p>â€‹		<img src="https://s2.loli.net/2023/07/25/mMoLItqRXs6hyA5.png" alt="image-20230719145906028.png" /></p>
<h2 id="ç»„ä»¶é€šä¿¡æ–¹å¼"><a class="markdownIt-Anchor" href="#ç»„ä»¶é€šä¿¡æ–¹å¼"></a> ç»„ä»¶é€šä¿¡æ–¹å¼</h2>
<p>propsä¼ é€’å€¼</p>
<p>â€‹	æ•´ä½“æ¥æ”¶ï¼Œ è§£æ„æ¥æ”¶</p>
<p>propsä¼ é€’äº‹ä»¶</p>
<p>é€šè¿‡æ‰©å±•è¿ç®—ç¬¦{â€¦}æ‰¹é‡ä¸Šä¼ </p>
<h2 id="ç»„ä»¶ç»„åˆæ–¹å¼"><a class="markdownIt-Anchor" href="#ç»„ä»¶ç»„åˆæ–¹å¼"></a> ç»„ä»¶ç»„åˆæ–¹å¼</h2>
<blockquote>
<p>æ’æ§½</p>
</blockquote>
<p>åˆ©ç”¨propsçš„childrenå±æ€§</p>
<p><img src="https://s2.loli.net/2023/07/25/fgLQPnTCZsOKjov.png" alt="image-20230719151126002.png" /></p>
<p>â€‹	æŒ‡å®šé¡ºåº</p>
<p><img src="https://s2.loli.net/2023/07/25/l326jsNfERpq4n8.png" alt="image-20230719151821461.png" /></p>
<p><img src="https://s2.loli.net/2023/07/25/35jOCBYAGLvbMSr.png" alt="image-20230719153233192.png" /></p>
<h2 id="propsé»˜è®¤å€¼"><a class="markdownIt-Anchor" href="#propsé»˜è®¤å€¼"></a> propsé»˜è®¤å€¼</h2>
<p>â€‹	åˆ©ç”¨es6çš„é»˜è®¤å€¼æ–¹å¼</p>
<p><img src="https://s2.loli.net/2023/07/25/35jOCBYAGLvbMSr.png" alt="image-20230719153233192.png" /></p>
<p>â€‹	reactçš„defaultProps</p>
<p><img src="https://s2.loli.net/2023/07/25/7Mbkav82tCNFzhP.png" alt="image-20230719153301244.png" /></p>
<h2 id="propsç±»å‹é™å®š"><a class="markdownIt-Anchor" href="#propsç±»å‹é™å®š"></a> propsç±»å‹é™å®š</h2>
<p>â€‹	ä½¿ç”¨ts</p>
<p>â€‹	ä½¿ç”¨ç¬¬ä¸‰æ–¹proptypes</p>
<h2 id="ç»„ä»¶çº¯å‡½æ•°"><a class="markdownIt-Anchor" href="#ç»„ä»¶çº¯å‡½æ•°"></a> ç»„ä»¶çº¯å‡½æ•°</h2>
<p>â€‹	åªè´Ÿè´£è‡ªå·±çš„ä»»åŠ¡ï¼Œä¸ä¼šåœ¨æ›´æ”¹å‡½æ•°è°ƒç”¨å‰å°±å·²å­˜åœ¨çš„å¯¹è±¡å’Œå˜é‡ã€‚ï¼ˆä¸èƒ½ä¿®æ”¹è¿™ä¸ªå‡½æ•°ç»„ä»¶ä½œç”¨åŸŸå¤–çš„å¯¹è±¡å’Œå˜é‡ï¼‰</p>
<blockquote>
<p>â€‹	<strong>ä¸¥æ ¼æ¨¡å¼</strong>æ£€æµ‹å½“å‰ç»„ä»¶æ˜¯å¦ä¸ºçº¯å‡½æ•°ï¼Œå¯¹è¿™å‡½æ•°è°ƒç”¨ä¸¤æ¬¡ï¼Œæ£€æµ‹å€¼æ˜¯å¦å˜åŒ–</p>
</blockquote>
<p>â€‹	è¾“å…¥ç›¸åŒï¼Œåˆ™è¾“å‡ºç›¸åŒã€‚çº¯å‡½æ•°æ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœã€‚</p>
<blockquote>
<p>â€‹	ä¸ç®¡è°ƒç”¨å¤šæ¬¡ï¼Œå‡½æ•°éƒ½è¾“å‡ºåŒä¸€ä¸ªå€¼ï¼Œå¯¹äº<strong>æµ‹è¯•</strong>æ›´æ–¹ä¾¿ã€‚<strong>å¢å¼ºå¥å£®æ€§</strong></p>
</blockquote>
<h2 id="ç»„ä»¶çš„çŠ¶æ€"><a class="markdownIt-Anchor" href="#ç»„ä»¶çš„çŠ¶æ€"></a> ç»„ä»¶çš„çŠ¶æ€</h2>
<p>ç¬é—´å˜åŒ–çš„æ•°æ®è¢«ç§°ä¸ºçŠ¶æ€ï¼ˆstateï¼‰ï¼ŒçŠ¶æ€å¯ä»¥<strong>è¿›è¡Œæ•°æ®é©±åŠ¨</strong></p>
<p>useState hooks æä¾› <u>çŠ¶æ€</u> å’Œ <u>ä¿®æ”¹çŠ¶æ€</u>çš„æ–¹æ³•</p>
<p>â€‹	æ™®é€šå˜é‡ æ— æ³•é‡æ–°æ¸²æŸ“JSX</p>
<p>â€‹	stateçŠ¶æ€ï¼Œé‡æ–°è§¦å‘å‡½æ•°ç»„ä»¶ï¼Œå¹¶ä¸”å…·å¤‡<strong>ç»„ä»¶çš„<font color=red>è®°å¿†</font></strong>ã€‚</p>
<blockquote>
<p>â€‹	æ™®é€šçº¯å‡½æ•°å‡½æ•°ï¼Œ å¤šæ¬¡è°ƒç”¨æ‰§è¡Œç»“æœ</p>
</blockquote>
<h3 id="çŠ¶æ€æ˜¯å¦‚ä½•æ”¹å˜è§†å›¾çš„"><a class="markdownIt-Anchor" href="#çŠ¶æ€æ˜¯å¦‚ä½•æ”¹å˜è§†å›¾çš„"></a> çŠ¶æ€æ˜¯å¦‚ä½•æ”¹å˜è§†å›¾çš„</h3>
<p>æ¸²æŸ“ä¸æäº¤çš„è¿‡ç¨‹</p>
<p>1ï¸âƒ£è§¦å‘ä¸€æ¬¡æ¸²æŸ“</p>
<p>â€‹	ğŸ’¡ç»„ä»¶çš„åˆæ¬¡æ¸²æŸ“ï¼ŒcreateRoot.render</p>
<p>â€‹	ğŸ”¦å†…éƒ¨çŠ¶æ€æ›´æ–°ï¼Œè§¦å‘æ¸²æŸ“é€å…¥é˜Ÿåˆ—</p>
<p>2ï¸âƒ£æ¸²æŸ“æ‚¨çš„ç»„ä»¶</p>
<p>â€‹	ğŸ’¡åœ¨è¿›è¡Œåˆæ¬¡æ¸²æŸ“ï¼Œreactè°ƒç”¨æ ¹ç»„ä»¶<code>&lt;App/&gt;</code></p>
<p>â€‹	ğŸ”¦å†…éƒ¨çŠ¶æ€æ›´æ–°ï¼Œä¼šæ¸²æŸ“å¯¹åº”çš„å‡½æ•°ç»„ä»¶</p>
<p>3ï¸âƒ£æäº¤åˆ°DOMä¸Š</p>
<p>â€‹	ğŸ’¡åˆæ¬¡æ¸²æŸ“ï¼ŒappendChild DOM API</p>
<p>â€‹	ğŸ”¦å†…éƒ¨çŠ¶æ€æ›´æ–°ï¼Œæ›´æ–°å·®å¼‚çš„DOMèŠ‚ç‚¹</p>
<h3 id="å¤šçŠ¶æ€å¦‚ä½•æ­£ç¡®è®°å¿†"><a class="markdownIt-Anchor" href="#å¤šçŠ¶æ€å¦‚ä½•æ­£ç¡®è®°å¿†"></a> å¤šçŠ¶æ€å¦‚ä½•æ­£ç¡®è®°å¿†ï¼Ÿ</h3>
<p>åŒä¸€ä¸ªç»„ä»¶çš„æ¯æ¬¡æ¸²æŸ“ä¸­ï¼ŒuseStateéƒ½ä¾æ‰˜äºä¸€ä¸ªç¨³å®šçš„è°ƒç”¨é¡ºåº</p>
<p>åœ¨reactå†…éƒ¨ï¼Œæ¯ä¸ªç»„ä»¶ä¿å­˜äº†ä¸€ä¸ªæ•°ç»„ï¼Œ æŒ‰ç…§ç´¢å¼•è®°å¿†usestateä½ç½®ã€‚<code>[&#123;ç´¢å¼•ï¼ŒuseStateå¯¹&#125;]</code></p>
<blockquote>
<p>æ‰€ä»¥ä¸è¦å°†useStateå†™åˆ°ä¸€äº›åˆ†æ”¯é€»è¾‘ä¸­ï¼Œä¼šæ‰“ä¹±useStateé¡ºåº</p>
</blockquote>
<p>é…åˆeslintæ£€æŸ¥ï¼Œè¯­æ³•æ˜¯å¦åˆè§„</p>
<h3 id="çŠ¶æ€çš„å¿«ç…§"><a class="markdownIt-Anchor" href="#çŠ¶æ€çš„å¿«ç…§"></a> çŠ¶æ€çš„å¿«ç…§</h3>
<p>æœ¬æ¬¡ä½œç”¨åŸŸä¸­çš„çŠ¶æ€ä¸ä¼šæ”¹å˜</p>
<p><img src="https://s2.loli.net/2023/07/25/uh6UXZsLEilwmjY.png" alt="image-20230719163835286.png" /></p>
<p>ç‚¹å‡»åï¼Œè§¦å‘ä¸‰æ¬¡setcountï¼Œä½†æ˜¯å½“å‰ä½œç”¨åŸŸçš„countéƒ½ä¸º0</p>
<p>å¿«ç…§çš„é™·é˜±ï¼Œå¼‚æ­¥çš„æ—¶å€™é€ æˆé”™è§‰ï¼Œå…¶å®å¼‚æ­¥é€»è¾‘ä¸­çš„çŠ¶æ€è¿˜æ˜¯ä¾èµ–äºè¿™æ¬¡å‡½æ•°ä½œç”¨åŸŸ</p>
<p><img src="https://s2.loli.net/2023/07/25/65ayv4H7KrhLoli.png" alt="image-20230719164801330.png" /></p>
<p><img src="https://s2.loli.net/2023/07/25/9IhUgbs7ZVlW3Hz.png" alt="image-20230719165254304.png" /></p>
<blockquote>
<p>è¯æ³•ä½œç”¨åŸŸï¼Œåªçœ‹å®šä¹‰ï¼Œä¸çœ‹è°ƒç”¨</p>
</blockquote>
<h3 id="çŠ¶æ€é˜Ÿåˆ—ä¸è‡ªåŠ¨æ‰¹å¤„ç†"><a class="markdownIt-Anchor" href="#çŠ¶æ€é˜Ÿåˆ—ä¸è‡ªåŠ¨æ‰¹å¤„ç†"></a> çŠ¶æ€é˜Ÿåˆ—ä¸è‡ªåŠ¨æ‰¹å¤„ç†</h3>
<p>è‡ªåŠ¨æ‰¹å¤„ç†</p>
<p>â€‹	ç­‰äº‹ä»¶å¤„ç†å‡½æ•°ä¸­çš„æ‰€æœ‰ä»£ç éƒ½è¿è¡Œå®Œæ¯•å†å¤„ç†ä½ çš„stateæ›´æ–°</p>
<p>â€‹	é˜Ÿåˆ—éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œåœ¨è¿›è¡Œuiæ›´æ–°</p>
<p>æ›´æ–°å‡½æ•°çš„å†™æ³•</p>
<p><img src="https://s2.loli.net/2023/07/25/iCsuQxMSc71oygb.png" alt="image-20230719170017902.png" /></p>
<p>å½¢å‚cæ¥è‡ªäºreactå†…éƒ¨ï¼Œæ‰€ä»¥è¿™é‡Œå¹¶ä¸æ˜¯ä¿å­˜çš„countå¿«ç…§ï¼Œè¿ç»­è°ƒç”¨ä¸‰æ¬¡åï¼Œå¾—åˆ°3</p>
<blockquote>
<p>æ›´æ–°å‡½æ•°åœ¨å†…éƒ¨è¿˜æ˜¯ä»¥å›è°ƒçš„å½¢å¼ï¼Œä½†æ²¡ä½¿ç”¨å½¢å‚</p>
</blockquote>
<h3 id="ä¸¥æ ¼éµå®ˆçŠ¶æ€ä¸å¯å˜"><a class="markdownIt-Anchor" href="#ä¸¥æ ¼éµå®ˆçŠ¶æ€ä¸å¯å˜"></a> ä¸¥æ ¼éµå®ˆçŠ¶æ€ä¸å¯å˜</h3>
<p><strong>é»˜è®¤</strong>æƒ…å†µä¸‹ï¼Œä¿®æ”¹çš„çŠ¶æ€è·Ÿä¸Šä¸€æ¬¡ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæ˜¯ä¸ä¼šé‡æ–°è§¦å‘æ¸²æŸ“</p>
<h3 id="å¼•ç”¨æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#å¼•ç”¨æ•°æ®ç±»å‹"></a> å¼•ç”¨æ•°æ®ç±»å‹</h3>
<p>æ‹·è´</p>
<p>â€‹	æ•°ç»„ï¼Œä½¿ç”¨ç›¸å…³æ–¹æ³•</p>
<p>â€‹	æ‰©å±•è¿ç®—ç¬¦</p>
<p>â€‹	æ·±å…‹éš†ï¼ˆå°†æ²¡æ”¹å˜çš„æ•°æ®ä¹Ÿæ˜¯å…‹éš†äº†ä¸€ä»½ï¼‰</p>
<p>â€‹	immer useimmer å¯ä»¥ç›´æ¥å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹</p>
<h3 id="æƒ°æ€§åˆå§‹åŒ–çŠ¶æ€çš„å€¼"><a class="markdownIt-Anchor" href="#æƒ°æ€§åˆå§‹åŒ–çŠ¶æ€çš„å€¼"></a> æƒ°æ€§åˆå§‹åŒ–çŠ¶æ€çš„å€¼</h3>
<p>å½“çŠ¶æ€çš„å€¼ç»„è¦é€šè¿‡å¤æ‚è®¡ç®—æ‰èƒ½å¾—åˆ°çš„è¯ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œæƒ°æ€§åˆå§‹åŒ–</p>
<blockquote>
<p>åªåœ¨åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡</p>
</blockquote>
<h3 id="çŠ¶æ€æå‡è§£å†³å…±äº«é—®é¢˜"><a class="markdownIt-Anchor" href="#çŠ¶æ€æå‡è§£å†³å…±äº«é—®é¢˜"></a> çŠ¶æ€æå‡è§£å†³å…±äº«é—®é¢˜</h3>
<p>çˆ¶ç»„ä»¶ç®¡ç†çŠ¶æ€ï¼Œå­ç»„ä»¶props</p>
<h3 id="çŠ¶æ€çš„é‡ç½®å¤„ç†é—®é¢˜"><a class="markdownIt-Anchor" href="#çŠ¶æ€çš„é‡ç½®å¤„ç†é—®é¢˜"></a> çŠ¶æ€çš„é‡ç½®å¤„ç†é—®é¢˜</h3>
<p>å½“ç»„ä»¶è¢«é”€æ¯ä¼šæ—¶ï¼Œæ‰€å¯¹åº”çš„çŠ¶æ€ä¹Ÿä¼šè¢«é‡ç½®</p>
<p>å½“<strong>ç»„ä»¶ä½ç½®</strong>æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼ŒçŠ¶æ€ä¼šè¢«ä¿ç•™</p>
<p><img src="https://s2.loli.net/2023/07/25/hZIvLofTXFxWDYz.gif" alt="çŠ¶æ€é‡ç½®1.gif" /></p>
<blockquote>
<p>ç»„ä»¶æ¸²æŸ“ä½ç½®å‘ç”Ÿå˜åŒ–ï¼ŒçŠ¶æ€ä¸è¢«ä¿ç•™</p>
<p><img src="https://s2.loli.net/2023/07/25/7rkxUmafhFbcqGS.gif" alt="çŠ¶æ€-ä¸åŒä½ç½®.gif" /></p>
</blockquote>
<p>ä¸åŒçš„ç»“æ„ä½“ï¼Œç»™ç»„ä»¶æ·»åŠ <strong>keyå±æ€§</strong></p>
<blockquote>
<p><font color=red>diffç®—æ³•ï¼ŒåŒå±‚çº§çš„å…ƒç´ æ˜¯å¦å‘ç”Ÿæ”¹å˜</font></p>
</blockquote>
<h3 id="åˆ©ç”¨çŠ¶æ€äº§ç”Ÿè®¡ç®—å˜é‡"><a class="markdownIt-Anchor" href="#åˆ©ç”¨çŠ¶æ€äº§ç”Ÿè®¡ç®—å˜é‡"></a> åˆ©ç”¨çŠ¶æ€äº§ç”Ÿè®¡ç®—å˜é‡</h3>
<p>æ ¹æ®<strong>çŠ¶æ€ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶</strong>çš„ç‰¹æ€§ï¼Œåˆ©ç”¨å½“å‰<strong>çŠ¶æ€å¿«ç…§</strong>ç”Ÿæˆå¯¹åº”çš„è®¡ç®—å˜é‡</p>
<p><img src="https://s2.loli.net/2023/07/25/BQFsjgh3nrIdA6k.gif" alt="chrome-capture-2023-6-20.gif" /></p>
<h2 id="å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶"><a class="markdownIt-Anchor" href="#å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶"></a> å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶</h2>
<p>é€šè¿‡propsæ§åˆ¶çš„ç»„ä»¶æˆä¸ºå—æ§ï¼Œé€šè¿‡stateæ§åˆ¶çš„ç»„ä»¶ç§°ä¸ºéå—æ§ç»„ä»¶</p>
<p>reactè¡¨å•å†…ç½®äº†å—æ§ç»„ä»¶çš„è¡Œä¸º</p>
<p>â€‹	value + onChange</p>
<p>â€‹	checked + onChange</p>
<p>inputæ ‡ç­¾å¹¶ä¸æ˜¯åŸå§‹çš„æ ‡ç­¾</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = <span class="title function_">useState</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">value</span>=<span class="string">&#123;value&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onChange</span>=<span class="string">&#123;(e)</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">          console.log(e.target.value);</span></span><br><span class="line"><span class="language-xml">          setValue(e.target.value)</span></span><br><span class="line"><span class="language-xml">        &#125;&#125;</span></span><br><span class="line"><span class="language-xml">      /&gt;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="hooks"><a class="markdownIt-Anchor" href="#hooks"></a> Hooks</h1>
<p>reactä¸­ä»¥useå¼€å¤´çš„å‡½æ•°è¢«ç§°ä¸ºHooké’©å­ï¼ŒHooksè¢«ç§°ä¸ºuseå‡½æ•°çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯é’©å­çš„é›†åˆ</p>
<p>Hookså°±æ˜¯ä¸€å †åŠŸèƒ½å‡½æ•°ï¼Œï¼ˆåƒæ’ä»¶</p>
<p>åˆ†ä¸ºï¼š å†…ç½®ã€è‡ªå®šä¹‰ã€ç¬¬ä¸‰æ–¹</p>
<h2 id="useref"><a class="markdownIt-Anchor" href="#useref"></a> useRef</h2>
<p>ä½¿ç”¨refå¼•ç”¨ä¸€ä¸ªå€¼ï¼Œå…·å¤‡è®°å¿†åŠŸèƒ½</p>
<p>æ”¹å˜refä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ç»„ä»¶</p>
<p><img src="https://s2.loli.net/2023/07/25/iyCeFSGRxWDZXlr.png" alt="image-20230720100818798.png" /></p>
<p><img src="https://s2.loli.net/2023/07/25/XSUFWpV4CJlBMT3.png" alt="image-20230720101032139.png" /></p>
<p>å®šæ—¶å™¨æ¡ˆä¾‹ï¼štimerç”¨refå­˜å‚¨ï¼Œå§‹ç»ˆå¼•ç”¨çš„åŒä¸€ä¸ªå€¼</p>
<h3 id="userefè¿›è¡Œdomæ“ä½œ"><a class="markdownIt-Anchor" href="#userefè¿›è¡Œdomæ“ä½œ"></a> userefè¿›è¡Œdomæ“ä½œ</h3>
<p>â€‹	å¦‚ï¼šè®©å…ƒç´ è·å–ç„¦ç‚¹ï¼Œæ»šåŠ¨åˆ°ä»–æˆ–æµ‹é‡å°ºå¯¸ä½ç½®</p>
<h3 id="å›è°ƒå†™æ³•åœ¨é€»è¾‘ä¸­æ“ä½œdom"><a class="markdownIt-Anchor" href="#å›è°ƒå†™æ³•åœ¨é€»è¾‘ä¸­æ“ä½œdom"></a> å›è°ƒå†™æ³•ï¼Œåœ¨é€»è¾‘ä¸­æ“ä½œdom</h3>
<p><img src="https://s2.loli.net/2023/07/25/vtEOLCYA8DgBTfR.png" alt="image-20230720102321632.png" /></p>
<h3 id="forwardref"><a class="markdownIt-Anchor" href="#forwardref"></a> forwardRef</h3>
<p>ç»™<strong>ç»„ä»¶</strong>è®¾ç½®reféœ€è¦forwardRef<strong>è½¬å‘</strong></p>
<p>forwardRefè®©æ‚¨çš„ç»„ä»¶é€šè¿‡refå‘çˆ¶ç»„ä»¶å…¬å¼€DOMèŠ‚ç‚¹</p>
<p>ç›´æ¥è½¬å‘refç»™å­ç»„ä»¶æŠ¥é”™</p>
<p><img src="https://s2.loli.net/2023/07/25/kVQnM81xyLu7oDC.png" alt="image-20230724150124791.png" /></p>
<p><img src="https://s2.loli.net/2023/07/25/B5Kh6kOrXaLWQdm.png" alt="image-20230724151308635.png" /></p>
<h3 id="useimperativehandle"><a class="markdownIt-Anchor" href="#useimperativehandle"></a> useImperativeHandle</h3>
<p>è‡ªå®šä¹‰ç”±refæš´éœ²å‡ºæ¥çš„å¥æŸ„</p>
<p><img src="https://s2.loli.net/2023/07/25/HSitNEdGyln4KzI.png" alt="image-20230724153237639.png" /></p>
<p><img src="https://s2.loli.net/2023/07/25/7h8YMuCK4WTOwyz.png" alt="image-20230724153456747.png" /></p>
<h2 id="çº¯å‡½æ•°å¤„ç†useeffect"><a class="markdownIt-Anchor" href="#çº¯å‡½æ•°å¤„ç†useeffect"></a> çº¯å‡½æ•°å¤„ç†useEffect</h2>
<p>çº¯å‡½æ•°ï¼š</p>
<p>å‰¯ä½œç”¨ï¼š</p>
<p>â€‹	å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹å¤–éƒ¨é€ æˆçš„å½±å“æˆä¸ºå‰¯ä½œç”¨ï¼Œå¦‚ajaxã€domæ“ä½œã€ä¸å¤–éƒ¨ç³»ç»ŸåŒæ­¥</p>
<p>â€‹	äº‹ä»¶å¯ä»¥å¤„ç†å‰¯ä½œç”¨ï¼Œonclickäº‹ä»¶ç­‰</p>
<p>â€‹	å¤„ç†å‰¯ä½œç”¨ï¼Œå€ŸåŠ©useEffecté’©å­</p>
<p>useEffectè§¦å‘æ—¶æœºï¼Œ<strong>jsxæ¸²æŸ“åè§¦å‘</strong></p>
<p>ä¾èµ–é¡¹ï¼Œ<a target="_blank" rel="noopener" href="http://xn--Object-hs2j6622blval8d.is">å†…éƒ¨é€šè¿‡Object.is</a>() æ–¹æ³•åˆ¤å®š</p>
<p>â€‹	å½“ä¾èµ–é¡¹ä¸ºç©ºï¼ŒæŒ‡æŒ¥åˆå§‹æ¸²æŸ“</p>
<p>â€‹	ESLintä¼šæ£€æŸ¥ä¾èµ–é¡¹æ˜¯å¦æ­£ç¡®ï¼ŒåŒ…æ‹¬props state è®¡ç®—å˜é‡</p>
<h3 id="å‡½æ•°å†™åœ¨useeffectä¸­"><a class="markdownIt-Anchor" href="#å‡½æ•°å†™åœ¨useeffectä¸­"></a> å‡½æ•°å†™åœ¨useEffectä¸­</h3>
<p>useCallback</p>
<p>å‡½æ•°å§‹ç»ˆæ˜¯åŒä¸€ä¸ª</p>
<p>æ¯æ¬¡é‡æ–°æ¸²æŸ“å‡½æ•°ï¼Œå‡½æ•°æŒ‡å‘åœ°å€å‘ç”Ÿæ”¹å˜</p>
<h3 id="useeffectæ¸…ç†å·¥ä½œ"><a class="markdownIt-Anchor" href="#useeffectæ¸…ç†å·¥ä½œ"></a> useEffectæ¸…ç†å·¥ä½œ</h3>
<p>ä¸¥æ ¼æ¨¡å¼ï¼Œæ£€æµ‹æœ‰æ— åšæ¸…ç†å·¥ä½œ</p>
<p>åˆå§‹åŒ–æ•°æ®æ—¶ï¼Œæ³¨æ„æ¸…ç†æ“ä½œï¼Œ</p>
<p>â€‹	æ›´ç®€æ´çš„æ–¹æ³•æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹ï¼Œahooksçš„useRequest</p>
<h2 id="useeffectevent"><a class="markdownIt-Anchor" href="#useeffectevent"></a> useEffectEvent</h2>
<p><img src="https://s2.loli.net/2023/07/25/uKlfrvej4UA2OqJ.png" alt="image-20230724162726502.png" /></p>
<h2 id="uselayouteffect-åŒæ­¥æ‰§è¡ŒçŠ¶æ€æ›´æ–°"><a class="markdownIt-Anchor" href="#uselayouteffect-åŒæ­¥æ‰§è¡ŒçŠ¶æ€æ›´æ–°"></a> useLayoutEffect åŒæ­¥æ‰§è¡ŒçŠ¶æ€æ›´æ–°</h2>
<p>useEffectæ˜¯åœ¨æ¸²æŸ“ä¹‹åï¼Œæ›´æ–°ä¹‹å‰</p>
<p>å¦‚è¿‡éœ€è¦åœ¨useEffectä¸­å¤„ç†DOMï¼Œå¹¶ä¸”æ”¹å˜é¡µé¢çš„æ ·å¼ï¼Œå°±éœ€è¦ä½¿ç”¨useLayoutEffectï¼Œ</p>
<h2 id="useinsertioneffect-domæ›´æ–°å‰è§¦å‘"><a class="markdownIt-Anchor" href="#useinsertioneffect-domæ›´æ–°å‰è§¦å‘"></a> useInsertionEffect DOMæ›´æ–°å‰è§¦å‘</h2>
<p>æ­¤æ—¶æ‹¿ä¸åˆ°domå…ƒç´ </p>
<p>åœ¨css-in-jsåº“ä¸­ä½¿ç”¨çš„å¤š</p>
<h2 id="usereducer"><a class="markdownIt-Anchor" href="#usereducer"></a> useReducer</h2>
<p>å±€éƒ¨çš„çŠ¶æ€ç®¡ç†ï¼ŒæŠ½ç¦»é€»è¾‘</p>
<h2 id="useimmerreducer"><a class="markdownIt-Anchor" href="#useimmerreducer"></a> useImmerReducer</h2>
<p>immerç±»å‹æ•°æ®</p>
<h2 id="contextå‘ç»„ä»¶æ·±å±‚æ¬¡ä¼ é€’æ•°æ®"><a class="markdownIt-Anchor" href="#contextå‘ç»„ä»¶æ·±å±‚æ¬¡ä¼ é€’æ•°æ®"></a> Contextå‘ç»„ä»¶æ·±å±‚æ¬¡ä¼ é€’æ•°æ®</h2>
<blockquote>
<p>reduceré…åˆcontextå®ç°çŠ¶æ€æ•°æ®å…±äº«</p>
<p>æ›´å¤æ‚çš„æƒ…å†µä½¿ç”¨ç¬¬ä¸‰æ–¹åº“,redux mobx,zuster</p>
</blockquote>
<h2 id="memoåœ¨propsä¸å˜æ—¶è·³è¿‡é‡æ–°æ¸²æŸ“"><a class="markdownIt-Anchor" href="#memoåœ¨propsä¸å˜æ—¶è·³è¿‡é‡æ–°æ¸²æŸ“"></a> memoåœ¨propsä¸å˜æ—¶è·³è¿‡é‡æ–°æ¸²æŸ“</h2>
<p>è¾¾åˆ°ä¸€äº›æ€§èƒ½ä¼˜åŒ–</p>
<blockquote>
<p>propsæ”¹å˜çš„æƒ…å†µä¸‹ï¼Œä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶</p>
</blockquote>
<p>æ²¡æœ‰props</p>
<p><img src="https://s2.loli.net/2023/07/25/Prz2fHX5ksuL71b.gif" alt="memo-props1.gif" /></p>
<p><img src="https://s2.loli.net/2023/07/25/bUIa1KeAVdiRzNg.gif" alt="memo-props2.gif" /></p>
<h2 id="usememoå¯¹è®¡ç®—ç»“æœè¿›è¡Œç¼“å­˜"><a class="markdownIt-Anchor" href="#usememoå¯¹è®¡ç®—ç»“æœè¿›è¡Œç¼“å­˜"></a> useMemoå¯¹è®¡ç®—ç»“æœè¿›è¡Œç¼“å­˜</h2>
<p>è™½ç„¶ä½¿ç”¨memoï¼Œå¹¶ä¸”props <strong>æ•°ç»„list****å€¼</strong>æœªå˜åŒ–ï¼Œä½†æ˜¯listçš„å¼•ç”¨åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œåº•å±‚ä½¿ç”¨<code>Object.is([], []) ==&gt;flase</code> æ¯”è¾ƒï¼Œåˆ™<strong>propså€¼</strong>æ”¹å˜</p>
<p><img src="https://s2.loli.net/2023/07/25/G6FMPfQ1NcULiWZ.gif" alt="usememo1.gif" /></p>
<p>ä½¿ç”¨useMemoå¯¹è®¡ç®—æ•°æ®è¿›è¡Œç¼“å­˜ï¼ˆç±»ä¼¼useCallbackç¼“å­˜å‡½æ•°ï¼‰</p>
<h2 id="usecallbackå¯¹å‡½æ•°è¿›è¡Œç¼“å­˜"><a class="markdownIt-Anchor" href="#usecallbackå¯¹å‡½æ•°è¿›è¡Œç¼“å­˜"></a> useCallbackå¯¹å‡½æ•°è¿›è¡Œç¼“å­˜</h2>
<p>useMemoçš„ä¸€ç§ç‰¹æ®Šå†™æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const fn = useMemo(()=&gt; () =&gt; &#123; console.log(1) &#125;)</span><br><span class="line">const fn = useCallback(() =&gt; &#123; console.log(1) &#125;)</span><br></pre></td></tr></table></figure>
<h2 id="starttrasition-æ–¹æ³•åŠå¹¶å‘æ¨¡å¼"><a class="markdownIt-Anchor" href="#starttrasition-æ–¹æ³•åŠå¹¶å‘æ¨¡å¼"></a> StartTrasition æ–¹æ³•åŠå¹¶å‘æ¨¡å¼</h2>
<p>â€‹	react18å¼€å§‹ï¼Œæ¸²æŸ“æ˜¯ä¸€ä¸ªå•ä¸€çš„ã€ä¸é—´æ–­çš„ã€åŒæ­¥çš„äº‹åŠ¡ï¼Œä¸€æ—¦æ¸²æŸ“å¼€å§‹ï¼Œå°±ä¸èƒ½è¢«ä¸­æ–­</p>
<pre><code>react18å¼•å…¥å¹¶å‘æ¨¡å¼ï¼Œå…è®¸æ ‡è®°æ›´æ–°ä½œä¸ºä¸€ä¸ªtransitionï¼Œè¿™å›å‘Šè¯‰reactå®ƒä»¬å¯ä»¥è¢«ä¸­æ–­æ‰§è¡Œã€‚è¿™æ ·å¯ä»¥æŠŠç´§æ€¥çš„ä»»åŠ¡å…ˆæ›´æ–°ï¼Œä¸ç´§æ€¥çš„ä»»åŠ¡åæ›´æ–°
</code></pre>
<p><code>ä»»åŠ¡åˆ‡æ¢</code></p>
<h2 id="usetrasition-hook"><a class="markdownIt-Anchor" href="#usetrasition-hook"></a> useTrasition hook</h2>
<p>æä¾›ä¸€ä¸ªpendingçŠ¶æ€çš„å¸ƒå°”å€¼ï¼Œï¼ˆé…åˆå®ç°ä¸€ä¸ªloadingæ•ˆæœï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ªstartTrasitionæ–¹æ³•</p>
<p><img src="https://s2.loli.net/2023/07/25/8l6byIz1rWvnd39.gif" alt="useTransition.gif" /></p>
<h2 id="usedeferredvalue-å»¶è¿Ÿ"><a class="markdownIt-Anchor" href="#usedeferredvalue-å»¶è¿Ÿ"></a> useDeferredValue å»¶è¿Ÿ</h2>
<p>è·å–è¯¥å€¼çš„å»¶è¿Ÿç‰ˆæœ¬</p>
<p><img src="https://s2.loli.net/2023/07/25/UoeJhxVuCiRt2DB.gif" alt="useDeferredValue.gif" /></p>
<h2 id="useid-äº§ç”Ÿå”¯ä¸€æ ‡è¯†"><a class="markdownIt-Anchor" href="#useid-äº§ç”Ÿå”¯ä¸€æ ‡è¯†"></a> useId äº§ç”Ÿå”¯ä¸€æ ‡è¯†</h2>
<p>id å±€éƒ¨å‰ç¼€</p>
<p>â€‹	xxx + id (å­—ç¬¦ä¸²æ‹¼æ¥)</p>
<p>id å…¨å±€å‰ç¼€</p>
<p>â€‹	createRoot ç¬¬äºŒå‚</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>)!, &#123;</span><br><span class="line">  <span class="attr">identifierPrefix</span>: <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="usedebugvalue"><a class="markdownIt-Anchor" href="#usedebugvalue"></a> useDebugValue</h2>
<p>åœ¨è‡ªå®šä¹‰hookä¸­æ‰“å°ä¿¡æ¯ï¼Œdevtool</p>
<h2 id="usesyncexternalstore"><a class="markdownIt-Anchor" href="#usesyncexternalstore"></a> useSyncExternalStore</h2>
<p>æ“ä½œçŠ¶æ€</p>
<p>è®¢é˜…å¤–éƒ¨ store çš„ React Hookã€‚</p>

</div>
<div class="toc-menu-container">
    <img class="icon toc-menu" alt="">
</div>

<script>
    // const toc = document.querySelector('.toc')
    // const tocmenu = document.querySelector('.toc-menu-container')
    // tocmenu.addEventListener('click', ()=>{
    //     toc.style.display === 'block' ? toc.style.display = 'none' : toc.style.display = 'block'
    // })
    const tocRight = getComputedStyle(document.documentElement).getPropertyValue('--toc-right');
    window.addEventListener('DOMContentLoaded', (event) => {
        const toc = document.querySelector('.toc')

    
        const tocmenu = document.querySelector('.toc-menu-container')

        // å¦‚æœæ²¡æœ‰ç›¸å…³hæ ‡ç­¾ï¼Œéšè—ç›®å½•
        if (!document.querySelector('h1, h2, h3, h4, h5, h6')) {
            toc.style.display = 'none'
            tocmenu.style.display = 'none'
        }

        // è§£å†³ç›´æ¥å†™å…¥cssæ–‡ä»¶çš„åª’ä½“æŸ¥è¯¢ï¼Œè€Œæ˜¯ç”¨jsæ§åˆ¶é›†ä¸­å†…å®¹å¯¼è‡´æ ·å¼å¤±æ•ˆçš„æ–¹æ³•
        const mediaQuery = window.matchMedia('(max-width: 1200px)')

        function handleTableOfContentsDisplay(e) {
            if (e.matches) { // If media query matches
                // toc.style.display = 'none'
                toc.style.right = '-100%'
                toc.style.transition = 'right .5s ease-in-out'
            } else {
                // toc.style.right = '20px'
                toc.style.right = tocRight
            }
        }
        //è¿è¡Œæ—¶è°ƒç”¨
        handleTableOfContentsDisplay(mediaQuery)
        // ç»‘å®šåª’ä½“æŸ¥è¯¢äº‹ä»¶ç›‘å¬
        mediaQuery.addListener(handleTableOfContentsDisplay)


        const img = document.querySelector('.toc-menu')
        let timer
        tocmenu.addEventListener('click', () => {
            tocmenu.classList.add('scale-up-center')
            toc.style.right.includes('%') ? toc.style.right = tocRight : toc.style.right = '-100%'
            // å¼‚æ­¥ç§»é™¤
            // if(timer) clearTimeout(timer)
            timer = setTimeout(() => {
                tocmenu.classList.remove('scale-up-center')
            }, 500)
            // img.classList.toggle('active')
            // if(img.classList.contains('active')){
            //     img.style.maskImage = "url('../../../source/css/icon/arrow-right.svg')"
            // }
        })
    })
</script>


<!-- å¼•å…¥tocbot -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        tocbot.init({
            tocSelector: '.toc',
            contentSelector: '.post-body',
            listClass: 'toc-list', //toc olåˆ—è¡¨classå
            linkClass: 'toc-link', //li ä¸­aæ ‡ç­¾çš„classå
            headingSelector: 'h1 ,h2, h3, h4, h5',
            collapseDepth: '6',
            // isCollapsedClass: 'is-collapsed',
        });
    });
</script>
</div>

<script>
    // View a list of images.
    // Note: All images within the container will be found by calling `element.querySelectorAll('img')`.
    const gallery = new Viewer(document.querySelector('.post-body'), {
        slideOnTouch: true,
        toolbar: {
            zoomIn: 1,
            zoomOut: 1,
            oneToOne: 0,
            reset: 1,
            prev: {
                show: 1,
                size: 'large'
            },
            play: {
                show: 0,
                // size: 'large',
            },
            next: {
                show: 1,
                size: 'large'
            },
            rotateLeft: 0,
            rotateRight: 0,
            flipHorizontal: 0,
            flipVertical: 0,
        },
    })
    // Then, show one image by click it, or call `gallery.show()`.
</script>

<!-- <script>
    const mdImg = document.querySelectorAll('.post-content p img')
    const imgPreviewMask = document.querySelector('.image-preview-mask')
    const imgPreview = document.querySelector('#img-preview')
    window.addEventListener('DOMContentLoaded', ()=>{
        console.log(mdImg, imgPreview)
    })
    mdImg.forEach(item => {
        item.addEventListener('click', () => {
            imgPreviewMask.style.display = 'block'
            imgPreview.classList.add('image-preview');
            imgPreview.style.backgroundImage = `url(${item.src})`;

        })
    })

    imgPreviewMask.addEventListener('click', ()=>{
        imgPreview.classList.remove('image-preview')
        imgPreviewMask.style.display = 'none'
    })

</script> -->

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
                <div class="icon arrow-left"></div>
                <div class="post-link">
                    <a href="/posts/vue3%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E4%B9%8B-sync/">Prev</a>
                </div>
            
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/posts/redux-toolkit%E5%AD%A6%E4%B9%A0/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

    
      <div class="post-comment">
    
        
            <div id="vcomments"></div>
            <!-- <script>
                var META = ['nick', 'mail', 'link'];
                var meta = 'nick,mail';
                meta = meta.split(',').filter(item => {
                    return META.includes(item);
                });
                new Valine({
                    el: '#vcomments',
                    appId: '',
                    appKey: '',
                    lang: 'en',
                    placeholder: 'Say something',
                    avatar: 'mp',
                    meta: meta
                })
            </script> -->
            

                
                    
                        <div id="disqus_thread"></div>
                        <div id='tip' style="display: none; color: gray; font-style: italic; font-size: 0.9em;">" Please use a proxy to
                            use the comment function in ğŸ‡¨ğŸ‡³"</div>
                        <script>
                            /**
                            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */

                            /* var disqus_config = function () {
                                this.page.url = 'http://example.com/posts/react%E5%B0%8F%E8%AE%B0/';  // Replace PAGE_URL with your page's canonical URL variable
                                this.page.identifier = 'posts/reactå°è®°/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                                this.language = 'en'
                            }; */

                            /* (function () { // DON'T EDIT BELOW THIS LINE
                                var d = document, s = d.createElement('script');
                                s.src = 'https://http-ye1223-github-io.disqus.com/embed.js';
                                s.setAttribute('data-timestamp', +new Date());
                                (d.head || d.body).appendChild(s);
                            })(); */




                            function loadDisqus() {
                                // æ£€æµ‹æ˜¯å¦å­˜åœ¨è¯„è®º
                                if (!document.querySelector('#disqus_thread iframe')) {
                                    document.getElementById('tip').style.display = 'block'
                                } else {
                                    document.getElementById('tip').style.display = 'none'
                                }
                                // Disqus å®‰è£…ä»£ç 
                                var d = document, s = d.createElement('script');
                                s.src = 'https://http-ye1223-github-io.disqus.com/embed.js';
                                s.setAttribute('data-timestamp', +new Date());
                                (d.head || d.body).appendChild(s);
                                window.disqus_config = function () {
                                    this.page.url = 'http://example.com/posts/react%E5%B0%8F%E8%AE%B0/';
                                    this.page.identifier = 'posts/reactå°è®°/';
                                    this.language = 'en'
                                };
                                // å¦‚æœä½ å’Œæˆ‘ä¸€æ ·åœ¨ç”¨ DisqusJSï¼ŒloadDisqus() é‡Œå°±åº”è¯¥æ˜¯ DisqusJS çš„åˆå§‹åŒ–ä»£ç  new DisqusJS({...})
                            }

                            // é€šè¿‡æ£€æŸ¥ window å¯¹è±¡ç¡®è®¤æ˜¯å¦åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ
                            var runningOnBrowser = typeof window !== "undefined";
                            // é€šè¿‡æ£€æŸ¥ scroll äº‹ä»¶ API å’Œ User-Agent æ¥åŒ¹é…çˆ¬è™«
                            var isBot = runningOnBrowser && !("onscroll" in window) || typeof navigator !== "undefined" && /(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent);
                            // æ£€æŸ¥å½“å‰æµè§ˆå™¨æ˜¯å¦æ”¯æŒ IntersectionObserver API
                            var supportsIntersectionObserver = runningOnBrowser && "IntersectionObserver" in window;

                            // æ£€æµ‹
                            /* const iframeObserver = new IntersectionObserver((entries)=>{
                                if(entries[0].isIntersecting){
                                    iframeObserver.disconnect()
                                }
                            })
                            iframeObserver.observe(document.querySelector('#disqus_thread iframe')) */

                            // ä¸€ä¸ªå° hackï¼Œå°†è€—æ—¶ä»»åŠ¡åŒ…è£¹åœ¨ setTimeout(() => { }, 1) ä¸­ï¼Œå¯ä»¥æ¨è¿Ÿåˆ° Event Loop çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€ç­‰å¾…ä¸»è°ƒç”¨æ ˆæ¸…ç©ºåæ‰æ‰§è¡Œï¼Œåœ¨ç»å¤§éƒ¨åˆ†æµè§ˆå™¨ä¸­éƒ½æœ‰æ•ˆ
                            // å…¶å®è¿™ä¸ª hack æœ¬æ¥æ˜¯ç”¨äºä¼˜åŒ–éª¨æ¶å±æ˜¾ç¤ºçš„ã€‚ä¸€äº›æµè§ˆå™¨æ€»æ˜¯ç­‰ JavaScript æ‰§è¡Œå®Œäº†æ‰å¼€å§‹é¡µé¢æ¸²æŸ“ï¼Œå¯¼è‡´éª¨æ¶å±èµ·ä¸åˆ°é™ä½ FCP çš„ä¼˜åŒ–æ•ˆæœï¼Œæ‰€ä»¥é€šè¿‡ hack å°†è€—æ—¶å‡½æ•°æ”¾åˆ°éª¨æ¶å±æ¸²æŸ“å®Œæˆåå†è¿›è¡Œã€‚
                            setTimeout(function () {
                                if (!isBot && supportsIntersectionObserver) {
                                    // å½“å‰ç¯å¢ƒä¸æ˜¯çˆ¬è™«ã€å¹¶ä¸”æµè§ˆå™¨å…¼å®¹ IntersectionObserver API
                                    var disqus_observer = new IntersectionObserver(function (entries) {
                                        // å½“å‰è§†çª—ä¸­å·²å‡ºç° Disqus è¯„è®ºæ¡†æ‰€åœ¨ä½ç½®
                                        if (entries[0].isIntersecting) {
                                            // åŠ è½½ Disqus
                                            loadDisqus();
                                            // åœæ­¢å½“å‰çš„ Observer
                                            disqus_observer.disconnect();
                                        }
                                    }, { threshold: [0] });
                                    // è®¾ç½®è®© Observer è§‚å¯Ÿ #disqus_thread å…ƒç´ 
                                    disqus_observer.observe(document.getElementById('disqus_thread'));
                                } else {
                                    // å½“å‰ç¯å¢ƒæ˜¯çˆ¬è™«ã€æˆ–å½“å‰æµè§ˆå™¨å…¶ä¸å…¼å®¹ IntersectionObserver API
                                    // ç›´æ¥åŠ è½½ Disqus
                                    loadDisqus();
                                }
                            }, 1)
                        </script>
                        <noscript>Please enable JavaScript to view the <a
                                target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                        



</div>
     
  
</article>
        </div>
      </div>
      <div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            
            
            
               Â©ï¸<a target="_blank" rel="noopener" href="https://github.com/ye1223 ">Levy Liu</a> | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/zoeingwingkei/frame/">Frame.</a>
                
        </div>
    </div>
</div>


        <!-- æç¤ºè¯ -->

        <div class="tip-toast">
          <!-- <img class="close" src=`${location.origin}icon/close-btn.svg` alt=""> -->
          <img class="close" src="https://ye1223.github.io/icon/close-btn.svg" alt="">
          <p>You'd better use a PROXY to enhance your browsing experience</p>
        </div>

        <!-- åˆ›å»ºtoastæç¤ºæ¡† -->
        <script>
          window.addEventListener('DOMContentLoaded', () => {
            // const tipToast = document.createElement('div')
            // tipToast.innerHTML = `<p>You'd better use a PROXY to enhance your browser experience</p>`
            // tipToast.classList.add('tip-toast')
            // document.body.appendChild(tipToast)

            const tipToast = document.querySelector('.tip-toast')
            const closeIcon = document.querySelector('.tip-toast .close')
            let timer = null

            // sessionStorageæ˜¯å¦æœ‰tipToastï¼ˆç”¨äºè·¨é¡µé¢åˆ¤æ–­ï¼‰
            // if(sessionStorage.getItem('tipToast')){
            //   // æœ‰çš„è¯--è®¾ä¸ºfalse
            //   sessionStorage.setItem('tipToast', false)
            // } else {
            //   sessionStorage.setItem('tipToast', true)
            // }
            sessionStorage.getItem('tipToast') ? sessionStorage.setItem('tipToast', false) : sessionStorage.setItem('tipToast', true)

            if (sessionStorage.getItem('tipToast') === 'false') {
              tipToast.style.display = 'none'
              return

            } else {
              // å¼€å§‹å‘¼å‡ºtip
              tipToast.style.right = '10px'
              tipToast.style.transition = 'right .5s ease-in-out'

              // æ—¶é—´åˆ°äº†éšè—tip
              timer = setTimeout(() => {
                tipToast.style.right = '-100%'
                tipToast.style.transition = 'right .5s ease-in-out'
                sessionStorage.setItem('tipToast', false)
              }, 30000)
            }

            closeIcon.addEventListener('click', () => {
              tipToast.style.right = '-100%'
              tipToast.style.transition = 'right .5s ease-in-out'
              timer = null
              sessionStorage.setItem('tipToast', false)
            })


          })
        </script>

        <!-- mermaidè¯­æ³•æ”¯æŒ -->
        
          <!-- <script src='https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js'></script> -->
          <!-- <script src='https://cdn.jsdelivr.net/npm/mermaid@7.1.2/dist/mermaid.min.js'></script> -->
          <script src='https://cdnjs.cloudflare.com/ajax/libs/mermaid/7.1.2/mermaid.min.js'></script>
          <script>
            if (window.mermaid) {
              mermaid.initialize({ theme: 'forest' });
            }
          </script>
          
            <!-- highlight.js csræ¸²æŸ“ -->
            <!-- <script src="https://cdn.jsdelivr.net/npm/highlightjs"></script>
            <script src="https://cdn.jsdelivr.net/npm/highlightjs-vue"></script>
            <script>
              hljs.registerLanguage("vue", window.hljsDefineVue);
              hljs.initHighlightingOnLoad();
            </script> -->

  </div>

  
    <div class="search-popup">
    <div class="search-popup-overlay">  
    </div>
    <div class="search-popup-window" >
        <div class="search-header">
            <div class="search-input-container">
              <input autocomplete="off" autocapitalize="off" maxlength="80"
                     placeholder="Search Anything" spellcheck="false"
                     type="search" class="search-input">
            </div>
            <div class="search-close-btn">
                <div class="icon close-btn"></div>
            </div>
        </div>
        <div class="search-result-container">
        </div>
    </div>
</div>

<script>
    const searchConfig = {
        path             : "/search.xml",
        top_n_per_article: "1",
        unescape         : "false",
        trigger: "auto",
        preload: "false"
    }
</script>
<!-- <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.min.js"></script>
<script src="/js/search.js"></script>
      

</body>

</html>